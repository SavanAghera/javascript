<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <title>Task-1</title>
</head>
<body>
    <div class="container-fluid">
        <div class="container">
                <input id="first_name" type="text" style="float:left;"/>
                <input id="last_name" type="text" style="float:left;"/>
               <div id="chang_btn" style="float:left;"> 
                   <button onclick="addtable_row()">Add</button>
               </div>
                <button onclick="rander()">Render Data</button>
                <table id="table_data">

                </table>
            
        </div>
    </div>
    <script>
    let row = 0;
    let edit_id=0; 
        function addtable_row(){
            const fname_data = document.getElementById('first_name').value;
            const lname_data = document.getElementById('last_name').value;
            if(fname_data !="" && lname_data!=""){
            row++;
            let table = document.getElementById('table_data');
            let tr = document.createElement('tr');
            tr.id="tr"+row;

            let td = document.createElement('td');
            let name = document.createElement('input');
            name.type = 'text';
            name.id="fname"+row;
            name.value = fname_data

            let last_name = document.createElement('input');
            last_name.type = 'text';
            last_name.id="lname"+row;
            last_name.value = lname_data
            
            let edit = document.createElement('button');
            edit.innerHTML="Edit";
            edit.id=row;
            edit.onclick = edit_row;

            let delet = document.createElement('button');
            delet.id=row;
            delet.onclick = delet_row;
            delet.innerHTML="delete"

            td.appendChild(name);
            td.appendChild(last_name);
            td.appendChild(edit);
            td.appendChild(delet)
            tr.appendChild(td);
            table.appendChild(tr);
            }
            else alert("please enter value")

        }  
      function  edit_row(){
          edit_id = this.id;
         document.getElementById('chang_btn').innerHTML=`<button onclick="update_btn()">Update</button>`
          document.getElementById('first_name').value = document.getElementById(`fname${edit_id}`).value;
          document.getElementById('last_name').value= document.getElementById(`lname${edit_id}`).value;
         
      }
      function delet_row(){
       const tr = document.getElementById(`tr${this.id}`);
       const table = document.getElementById('table_data');
       table.removeChild(tr);
      }
      function update_btn(){
         
          let first_name =  document.getElementById('first_name');
          let last_name = document.getElementById('last_name');
          if(document.getElementById(`fname${edit_id}`) != null){
          document.getElementById(`fname${edit_id}`).value = first_name.value;
          document.getElementById(`lname${edit_id}`).value = last_name.value;
          first_name.value = "";
          last_name.value ="";  
          document.getElementById('chang_btn').innerHTML=`<button onclick="addtable_row()">Add</button>` ;
          edit_id = 0;}
          else{
              alert("some one deleted row , cant'update");
              document.getElementById('chang_btn').innerHTML=`<button onclick="addtable_row()">Add</button>` ;
              edit_id = 0;

          }
      }

      function rander(){
          let data_array = [{FirstName:"savan",LastName:"patel"},
        {FirstName:"jay",LastName:"kansagara"},
        {FirstName:"harsh",LastName:"kanjariya"},
        {FirstName:"deepa",LastName:"patel"},
        {FirstName:"ravi",LastName:"sureja"},
        {FirstName:"parth",LastName:"savsani"},
        {FirstName:"Deep",LastName:"dow"},
        {FirstName:"raj",LastName:"kansagara"},
        {FirstName:"Krishana",LastName:"kanjatiya"},
        {FirstName:"meet",LastName:"patel"}];
      

      for(let i of data_array ){
        row++;
            let table = document.getElementById('table_data');
            let tr = document.createElement('tr');
            tr.id="tr"+row;

            let td = document.createElement('td');
            let name = document.createElement('input');
            name.type = 'text';
            name.id="fname"+row;
            name.value = i.FirstName;

            let last_name = document.createElement('input');
            last_name.type = 'text';
            last_name.id="lname"+row;
            last_name.value = i.LastName
            
            let edit = document.createElement('button');
            edit.innerHTML="Edit";
            edit.id=row;
            edit.onclick = edit_row;

            let delet = document.createElement('button');
            delet.id=row;
            delet.onclick = delet_row;
            delet.innerHTML="delete"

            td.appendChild(name);
            td.appendChild(last_name);
            td.appendChild(edit);
            td.appendChild(delet)
            tr.appendChild(td);
            table.appendChild(tr);
      }
    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</body>
</html>