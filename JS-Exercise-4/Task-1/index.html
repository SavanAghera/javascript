<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <title>Task-1</title>
</head>
<body>
    <div class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-4">
                    <h3>
                        <span>Time &nbsp;</span>
                        <span id="time">12:00:00</span>
                    </h3>
                </div>
                <div class="col-4"></div>
                <div class="col-4">
                    <h3>
                        <span>Date &nbsp;</span>
                        <span id="date">21 Jan 2021</span>
                    </h3>
                </div>
            </div>

            <div class="text-center">
                <h2>
                    <span>Stopwatch &nbsp;</span>
                    <span id="stopwatch">00:00:00:00</span>
                </h2>
            </div>


            <div class="d-flex justify-content-center"> 
                    <button id="start" class="btn btn-success m-2" onclick="start()">Start</button>
                    <button id="stop" class="btn btn-danger m-2" onclick="stop()">Stop</button>
                    <button id="Resume" class="btn btn-warning m-2" onclick="resume()">Resume</button>
                    <button id="Reset" class="btn bg-secondary m-2" onclick="reset()">Reset</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

    <script> 
    
        let time = document.getElementById('time');
        let date = document.getElementById('date');
        let stopwatch = document.getElementById('stopwatch');
        let tick , interval ,newtime,m,Resume,Stop,temp, IsResume=false;

        let date_obj = new Date();
        time.innerHTML = date_obj.toTimeString().split(" ")[0];
        date_obj = date_obj.toDateString().split(" ");
        date.innerHTML = date_obj[2] + " " + date_obj[1]+ " " +date_obj[3];

        function mainTimeUpdate(){
            time.innerHTML = new Date().toTimeString().split(" ")[0];
        }
        setInterval(mainTimeUpdate,1000);

        function start(){
            if(!interval){
                tick = new Date();
                Stop =new Date();
                Resume = new Date();
                temp = new Date(0);
                console.log(temp-tick)
                interval = setInterval(tickUpdate,10);
            }

        }

        function stop(){
           
            if(interval){
                Stop=new Date();
                clearInterval(interval);
                interval = null;
            }
        }

        function resume(){
            if(!interval){
            Resume=new Date();
            IsResume=true;
            temp = new Date(temp + (Resume-Stop));
            console.log(temp )
            interval = setInterval(tickUpdate,10);}
        }
        function reset(){
            if(!interval){
            tick = 0;
            formateTick(tick);
        }
        }
        function tickUpdate(){
           newtime = new Date();
           console.log(newtime-temp-tick)
           formateTick(newtime-temp-tick)
        }
        function formateTick(time){
            m = new Date(time -(60*60*6-60*30)*1000).toTimeString().split(" ")[0];
            stopwatch.innerHTML = `${m}:${ Math.round(time%1000/10)}`;
        }
     </script>
</body>
</html>